(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[141,609],{"1xPy":function(e,t,n){n.d(t,"b",(function(){return o}));var i=n("q1tI");const a=Object(i.createContext)(!0);function o(){return Object(i.useContext)(a)}t.a=a},"2JgW":function(e,t,n){n.d(t,"a",(function(){return i}));const i="imgViewer"},"2oSX":function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return h}));var i=n("8ThB"),a=n("28DW");let o;const c=()=>{const e=o.getState().session;if(!e.isMobile&&!e.isTablet)return"desktop";switch(e.userAgentPlatform){case"ios":return"iphone";case"android":return e.isTablet?"android_tablet":"android";case"ipad":return"ipad";default:return"mobile_other"}},r=(e,t)=>{const n=4===t?3456:3455;return e===i.b?n:3050},s=({action:e,type:t,isCrossDomain:n,isMultipleAccounts:i,trigger:o})=>{Object(a.l)(`new_mweb_${e}.${c()}${i?".multipleAccounts":""}`,{referrer:Object(a.d)(),type:t,cctld:n}),Object(a.a)(`mweb_${e}.${c()}.${Object(a.d)()}.${t}${n?".cctld":""}${i?".multipleAccounts":""}`),Object(a.g)({action:e,event:"success",type:t,trigger:o})},l=({action:e,type:t,error:n,isCrossDomain:i,isMultipleAccounts:o,trigger:r})=>{const s=o?".multipleAccounts":"",l=i?".cctld":"",d={type:t};Object(a.l)(`new_mweb_${e}_error.${c()}${s}${l}`,d),Object(a.k)(`mweb_${e}_error.${c()}.${Object(a.d)()}.${t}${l}${s}`,{error:n}),Object(a.g)({action:e,event:"fail",type:t,trigger:r})},d=({action:e,placement:t,isAuthenticated:n})=>{Object(a.a)(`mweb_${e}.${String(t)}.is_auth_${String(n)}`)},u=e=>{o=e},h=e=>{Object(a.a)(e)}},"6/Sz":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("lNaY");function a(e,t){const n=(((e||{}).rich_metadata||{}).products||[])[0]||{},{shouldUnifyImageSizes:a}=t||{};return n&&n.additional_images&&n.additional_images.length>0?Object(i.a)(e.images,n,e.carousel_data&&e.carousel_data.index,a):e&&e.carousel_data}},"8ThB":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i=0,a=1},AGLl:function(e,t,n){var i=n("q1tI"),a=n("/MKj"),o=n("iaut"),c=n("LOQM"),r=n("bcHz"),s=n("LT60"),l=n("Ofms"),d=n("yweb"),u=n("g6r8"),h=n("pTLB"),b=n("28DW"),p=n("n6mq"),g=n("nKUr");const m=16;function j({onClickVisitButton:e,onImageExpand:t,setShouldExpandCollapsablePin:n,shouldExpandCollapsablePin:a,visitButtonText:o,setShowClickthroughOverlay:c}){const s=Object(d.c)(),j=Object(h.b)(),f=null==j?void 0:j.showSignupModal,[O,x]=Object(i.useState)(m),y=Object(i.useRef)(),_=Object(u.b)(),w=()=>{const e=document.getElementById("relatedPins");if(e&&y.current){var t;const n=e.getBoundingClientRect(),i=null===(t=y.current)||void 0===t?void 0:t.getBoundingClientRect(),a=((null==i?void 0:i.bottom)||0)-n.top;x(a>0?Math.abs(Math.round(a))+m:m)}};return Object(i.useEffect)(()=>(window.addEventListener("scroll",w),w(),()=>{window.removeEventListener("scroll",w)}),[]),Object(i.useEffect)(()=>{a&&O!==m&&x(m)},[O,a]),Object(g.jsx)(p.bb,{onTap:({event:e})=>{f&&(e.preventDefault(),Object(b.a)("mweb.unauth.pin_wash.conversion.click"),f("signup",{source:"defaultSource",container:"pinWash"}))},children:Object(g.jsxs)(p.f,{dangerouslySetInlineStyle:{__style:{zIndex:2}},children:[Object(g.jsx)(p.f,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",direction:"column",position:"absolute",ref:y,"data-test-id":"main-pin-hover-overlay",children:Object(g.jsx)(p.f,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:Object(g.jsx)(p.f,{marginTop:8,children:Object(g.jsx)(p.v,{size:"sm",align:"center",color:"white",children:_?s._("Click to make the most out of this idea with a free account","web.unauth.plp.clickable_wash.header","Copy shown on hover to sign up for an account"):s._("Tap to make the most out of this idea with a free account","mweb.unauth.plp.clickable_wash.header","Pin clickable wash header text")})})})}),Object(g.jsxs)(p.f,{direction:"row",display:"flex",height:48,paddingX:4,opacity:.8,justifyContent:"between",width:508,alignItems:"center",position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:O+"px",paddingLeft:m,transition:"bottom 0.25s"}},children:[Object(g.jsx)(r.a,{onTouch:e,pressState:"compress",rounding:2,children:Object(g.jsxs)(p.f,{alignItems:"center",color:"lightGray","data-test-id":"visit-button",direction:"row",display:"flex",height:48,opacity:.8,padding:3,rounding:"pill",children:[(o||"").includes(".")&&Object(g.jsx)(p.u,{alignItems:"stretch",justifyContent:"start",children:Object(g.jsx)(p.w,{accessibilityLabel:s._("Visit","Accessibility label for visit icon","Accessibility label for visit icon"),color:"darkGray",icon:"arrow-up-right",inline:!0,size:12})}),Object(g.jsx)(p.f,{dangerouslySetInlineStyle:{__style:{paddingLeft:8}},children:Object(g.jsx)(p.cb,{color:"darkGray",size:"lg",weight:"bold",children:o||s._("Visit","Text on a button that lets them visit the source of the pin","Text on a button that lets them visit the source of the pin")})})]})}),!a&&n&&Object(g.jsx)(l.a,{id:"main-pin-expand-button",children:Object(g.jsx)(p.x,{icon:"maximize",size:"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:"Expand pin image",onClick:({event:e})=>{e.stopPropagation(),Object(b.a)("mweb_pin_page.pin_image.enlarge_image"),Object(b.h)("click_expand_image"),n(!0),t&&t()}})})]}),!_&&Object(g.jsx)(p.f,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:Object(g.jsx)(p.x,{icon:"cancel",iconColor:"white",onClick:({event:e})=>{e.stopPropagation(),c&&c(!1)},accessibilityLabel:s._("Close pin clickable wash","mweb.unauth.plp.clickable_wash.close_button","Close button")})})]})})}var f=n("pmdw"),O=n("CYge"),x=n("OadL"),y=n("2JgW"),_=n("eyT9"),w=n("AGnR"),v=n("QAzJ"),C=n("1xPy"),S=n("ntEp"),k=n("wMN6"),E=n("TXO6"),I=n("EC67");const L=({children:e})=>{var t;const n=Object(a.useSelector)(e=>e.session.isAuthenticated),i=Object(I.h)(),o=Object(I.k)(),c=null===(t=Object(I.i)().state)||void 0===t?void 0:t.trackingParams;return n?Object(g.jsx)(r.a,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),i&&o&&o.params&&o.params.id&&i.push(`/pin/${o.params.id}#${y.a}`,{trackingParams:c})},pressState:"compress",fullWidth:!0,children:e}):e};t.a=e=>{const t=Object(d.c)(),{alt:n,clickthroughOverlayOptions:l,color:h,isFlashlightPage:m,naturalHeight:P,naturalWidth:T,onImageExpand:$,placeholder:A,pwtElementTimingId:B,pwtSurfaceContext:W,setShouldExpandCollapsablePin:z,setShowClickthroughOverlay:D,showFlashlightIcon:M,shouldExpandCollapsablePin:H,showSpinner:G,src:q,viewParameter:K}=e,R=Object(C.b)(),U=Object(I.h)(),N=Object(I.k)(),V=!R,{isAuthenticated:Y}=Object(a.useSelector)(e=>e.session),J=Object(f.a)(),{setHasScrolledPastMainContent:F}=Object(S.b)()||{},Q=Object(i.useRef)(),X=Object(a.useSelector)(e=>Object(x.h)(e)),[Z,ee]=Object(i.useState)(!V||!!q&&!!A&&A===q),te=()=>{W&&W.markConstraintComplete("PinPageMainImageRendered")};Object(i.useEffect)(()=>{const e=new Image;e.onload=()=>ee(!0),e.src=q},[]),Object(i.useEffect)(()=>{F&&Q.current&&F(J>Q.current.offsetTop+Q.current.offsetHeight)},[J,F]);const ne=Object(u.a)(),ie=!m&&"tablet"===ne,ae=m?40:44,oe=V?Object(g.jsx)(c.a,{alt:n,color:h,elementTiming:B,naturalHeight:P,naturalWidth:T,src:A,onLoad:te}):null,ce=Object(E.d)(X)&&!Object(E.c)(X),re=Object(v.a)("mweb_auth_expand_img_viewer"),se=Y&&"desktop"!==ne&&!ce&&re().anyEnabled,le=Object(v.a)("mweb_new_user_closeup_simplification");let de=!!M&&(Y||H)&&!se;de&&ce&&le().anyEnabled&&(de=!1);const ue=!Y&&"desktop"!==ne&&!H&&void 0!==H&&!l||se;return Object(g.jsx)(L,{children:Object(g.jsxs)(p.f,{"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===ne?k.b:void 0,overflow:M?void 0:"hidden",position:"relative",width:m||"phone"===ne?"100%":"desktop"===ne?508:k.a,rounding:m||"phone"===ne?0:6,ref:Q,children:[!Y&&l&&Object(g.jsx)(o.b,{isImagePinForUnauthOnTablet:!1,children:Object(g.jsx)(j,{onClickVisitButton:e=>{e.preventDefault(),e.stopPropagation(),l.onConfirm()},visitButtonText:l.visitButtonText,setShouldExpandCollapsablePin:z,shouldExpandCollapsablePin:H,onImageExpand:$,setShowClickthroughOverlay:D})}),oe&&(ie?Object(g.jsx)(p.f,{rounding:6,overflow:"hidden",children:oe}):oe),Object(g.jsx)(p.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:Z?1:0,transition:Z&&"desktop"!==ne?"opacity .5s ease-in-out":void 0}},left:!0,position:V?"absolute":"relative",right:!0,rounding:ie?6:5,overflow:ie?"hidden":void 0,top:!0,children:V?Object(g.jsx)(p.y,{alt:n,naturalHeight:P,naturalWidth:T,src:q}):Object(g.jsx)(c.a,{alt:n,color:h,elementTiming:B,naturalHeight:P,naturalWidth:T,src:q,onLoad:te})}),G&&Object(g.jsx)(p.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:Z?0:1,transition:Z?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!Z&&Object(g.jsx)(p.u,{alignItems:"center",justifyContent:"start",children:Object(g.jsx)(p.U,{accessibilityLabel:t._("Loading image","Loading higher resolution image","Loading higher resolution image"),show:!0})})}),de&&Object(g.jsx)(p.W,{bottom:Y&&m?O.a:0,zIndex:new p.t(0),children:Object(g.jsx)(p.f,{dangerouslySetInlineStyle:{__style:{marginTop:m?-64:-76}},display:"flex",flex:"none",justifyContent:"end",padding:m?3:4,position:"relative",children:Object(g.jsx)(p.f,{display:"inlineBlock",children:Object(g.jsx)(r.a,{onTouch:e=>{Y||(Object(b.a)("mweb_pin_page.flashlight_icon_click"),Object(b.i)({action:"click",page:"pin",item:"visual-search-icon",within:"pin-image"})),e.preventDefault(),e.stopPropagation(),Object(w.h)({component:128,element:234,view_parameter:K,view_type:3}),U&&N&&N.params&&N.params.id&&U.push(`/pin/${N.params.id}/visual-search/`)},pressState:"compress",children:Object(g.jsx)(p.f,{"data-test-id":"visual-search-icon",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},display:"flex",height:ae,justifyContent:"center",padding:1,rounding:"pill",width:ae,children:Object(g.jsx)(p.w,{accessibilityLabel:t._("Visual search","Button to search for visually similar Pins","Button to search for visually similar Pins"),color:Object(_.e)()?"lightGray":"darkGray",icon:"flashlight",size:24})})})})})}),ue&&Object(g.jsx)(p.W,{bottom:Y?O.a:"25vh",zIndex:new p.t(0),children:Object(g.jsx)(p.f,{bottom:!0,display:"flex",justifyContent:"end",position:"absolute",right:!0,width:"100%",children:Object(g.jsx)(p.f,{padding:2,children:Object(g.jsx)(s.a,{children:Object(g.jsx)(p.f,{"data-test-id":"expandButton",children:Object(g.jsx)(p.x,{icon:"maximize",size:"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:t._("Expand Image","mweb.closeup.image.expand.a11y","Accessibility label for the expand icon"),onClick:({event:e})=>{e.stopPropagation(),se&&U&&N.params.id&&U.push(`/pin/${N.params.id}#${y.a}`),Object(b.a)("mweb_pin_page.pin_image.enlarge_image"),Y||(Object(b.h)("click_expand_image"),Object(b.i)({action:"click",page:"pin",item:"expand-button",within:"pin-image"})),z?z(!0):$&&$()}})})})})})})]})})}},LOQM:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n("n6mq"),o=n("nKUr");const c=(e,t,n)=>{const a=Object(i.useRef)(null),o=Object(i.useRef)(null);Object(i.useEffect)(()=>{if(e!==a.current||n&&n!==o.current){a.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;o.current=n},[e,t,n])};function r({alt:e,children:t,color:n,elementTiming:i,isActive:r=!1,naturalHeight:s,naturalWidth:l,onLoad:d,src:u}){return c(u,d,r),Object(o.jsx)(a.y,{alt:e,color:n,elementTiming:i,naturalHeight:s,naturalWidth:l,onLoad:d,src:u,children:t})}},Ofms:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),a=n("nKUr");function o(e){const{children:t,display:n,id:o}=e;return Object(a.jsx)(i.f,{"data-test-id":o,display:n,children:t})}},lNaY:function(e,t,n){n.d(t,"a",(function(){return c}));const i=["236x","474x","564x","736x"];function a(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:i}}));return e.map(e=>n.reduce(t,e))}function o(e,t){return e.concat([{images:t&&t.canonical_images,image_signature:t&&t.image_signature}])}function c(e,t,n,i=!0){const c=[{images:e}],r=t&&t.additional_images,s=(null!=r?r:[]).reduce(o,c);return{carousel_slots:i?a(s):s,index:n||0,id:t.id}}},ntEp:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var i=n("1dBE");const{Provider:a,Consumer:o,useHook:c}=Object(i.b)("unauthPageWrapperContext")},pmdw:function(e,t,n){var i=n("q1tI"),a=n("DzJC"),o=n.n(a);t.a=()=>{const[e,t]=Object(i.useState)(0);return Object(i.useEffect)(()=>{const e=o()(()=>t(window.scrollY),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),e}},rIuN:function(e,t,n){function i(e){const{images:t={}}=e;return t["564x"]&&t["564x"].url?t["564x"]:t["736x"]&&t["736x"].url?t["736x"]:t["474x"]&&t["474x"].url?t["474x"]:t["236x"]&&t["236x"].url?t["236x"]:null}n.d(t,"a",(function(){return i}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/141-61daaa5c7f567238e051.mjs.map